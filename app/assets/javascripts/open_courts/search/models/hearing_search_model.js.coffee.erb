#= require ./search_model

class OpenCourts.HearingSearchModel extends OpenCourts.SearchModel
  _type:  'hearing'

  defaults:
    <% Hearing.facets.each do |name, facet| %>
    <%= "#{name}: []" %>
    <% end %>

  initialize: ->
    super()

    @.setHistorical(false)

  getHistorical: ->
    if @.getValue('historical') == "true" then true else false

  setHistorical: (value) ->
    @.setValue('historical', value.toString())

  query: ->
    super (data) =>
      data.historical = @.getHistorical()

_.extend(OpenCourts.HearingSearchModel.prototype.defaults, OpenCourts.SearchModel.prototype.defaults)
